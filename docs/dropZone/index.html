<!doctype html>
<html>

<body>
    <style type="text/css">
        div#dropZone {
            background: gray;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 999;
            opacity: 0.6;
            visibility: hidden;
        }

        .desc {
            position: absolute;
            pointer-events:none;
            left: 50%;
            top: 50%;
        }
    </style>
    <div id="dropZone">
        <p class="desc">释放即可上传</p>
    </div>

    <script type="text/javascript">
        //拖拽的目标节点
        var dropZone = document.getElementById('dropZone');

        function showDropZone() {
            dropZone.style.visibility = "visible";
        }
        function hideDropZone() {
            dropZone.style.visibility = "hidden";
        }

        function allowDrag(e) {
            if (true) {
                // Test that the item being dragged is a valid one
                e.dataTransfer.dropEffect = 'copy';
                e.preventDefault();
            }
        }

        function handleDrop(e) {
            e.preventDefault();
            hideDropZone();

           console.log(e);
        }

        // 监听widow上的事件
        window.addEventListener('dragenter', function (e) {
            showDropZone();
        });

        dropZone.addEventListener('dragenter', allowDrag);
        dropZone.addEventListener('dragover', allowDrag);

        dropZone.addEventListener('dragleave', function (e) {
            hideDropZone();
        });


        dropZone.addEventListener('drop', handleDrop);
    </script>
</body>

</html>