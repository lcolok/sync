<SCRIPT>


    async function url2Base64(img) {
        return new Promise((resolve) => {
            function getBase64Image(img) {
                var canvas = document.createElement("canvas");
                canvas.width = img.width;
                canvas.height = img.height;
                var ctx = canvas.getContext("2d");
                ctx.drawImage(img, 0, 0, img.width, img.height);
                var ext = img.src.substring(img.src.lastIndexOf(".") + 1).toLowerCase();
                var dataURL = canvas.toDataURL("image/" + ext);
                return dataURL;
            }

            var image = new Image();
            image.crossOrigin = '';
            image.src = img;
            image.onload = function () {
                var base64 = getBase64Image(image);

                resolve(base64);
            }
        });
    }

    void (async () => {
        var img = "assets/UploadCloud.jpg";
        console.log(await url2Base64(img));
    })();

</SCRIPT>